<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yedam.mapper.ReviewMapper">

	<!-- 내가 쓴 리뷰 -->
	<select id="selectMyReview" parameterType="int" resultType="review">
		select  p.prd_name,
				p.prd_Img,
				r.review_score,
				r.review_content
		from review r join product p
						on r.prd_no = p.prd_no
		where r.member_no = #{memberNo}
	</select>

	<!-- 내가 받은 리뷰 -->
	<select id="selectOtherReview" parameterType="int" resultType="review">
		select  p.prd_name,
				p.prd_Img,
				m.member_name,
				r.review_content
		from product p join review r
						 on p.prd_no = r.prd_no
			  	       join purchase pur
						 on p.prd_no = pur.prd_no
					   join member m
						 on m.member_no = pur.member_no
		where p.member_no = #{memberNo}
	</select>


</mapper>